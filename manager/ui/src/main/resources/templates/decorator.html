<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="common/header"/>
<body class="main">
<div class="container-fluid full-size">
    <div th:replace="${header}"/>
    <div th:replace="${content}"/>
</div>
<footer th:include="${footerTemplate}" class="mt-3"></footer>
</body>
<script th:inline="javascript">
    var widgetNames = [[${widgetNames}]];
    var pageName = [[${pageName}]];
    widgetNames.forEach(function (widgetName) {
        var widgetDiv = $("#widget_" + widgetName);
        if (widgetDiv) {
            var url = "/widgets/" + widgetName + "?pageName=" + pageName;
            $.get(url, function (data) {
                widgetDiv.html(data);
            });
        }
    });

</script>
</html>